<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Flask</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body class="container">
    <header>
        <h1>Bem-vindo(a) √† API Flask</h1>
        <span>by Andr√© Carciano!!!</span>
    </header>
    <!-- menu navega√ß√£o TABS -->
    <nav class="intro pt-5">
        <ul class="nav nav-tabs" id="myTab" role="tablist">

            <li class="nav-item " role="presentation">
                <button class="nav-link active" id="algoritimocsv-tab" data-bs-toggle="tab"
                    data-bs-target="#algoritimocsv" type="button" role="tab" aria-controls="algoritimocsv"
                    aria-selected="false">Algor√≠timo CSV</button>
            </li>

            <li class="nav-item" role="presentation">
                <button class="nav-link" id="api-tab" data-bs-toggle="tab" data-bs-target="#api" type="button"
                    role="tab" aria-controls="api" aria-selected="true">API End Points</button>
            </li>

        </ul>
    </nav>
    <!-- END menu navega√ß√£o TABS -->
    <div class="tab-content pt-4" id="myTabContent">

        <!-- ALGORITMO CSV -->
        <section class="tab-pane fade show active" id="algoritimocsv" role="tabpanel"
            aria-labelledby="algoritimocsv-tab" tabindex="0">
            <h1 class="text-primary">üìå Quest√£o 2 - Manipula√ß√£o de CSV com Python</h1>

            <div class="mb-3">
                <h2 class="mt-4">‚öôÔ∏è Como Usar?</h2>
                <p>Dentro do projeto, voc√™ encontrar√° o arquivo <strong>"Vendas.csv"</strong> que cont√©m alguns dados
                    para teste.</p>
                <p>Voc√™ tamb√©m pode baix√°-lo
                    <a href="http://127.0.0.1:5000/download-csv" download="Vendas.csv">aqui</a> .
                </p>
                <label for="formFile" class="form-label">
                    <p>Insira o arquivo <strong>"Vendas.csv"</strong> no file upload abaixo e o resultado ser√° exibido
                        em uma nova guia no formato JSON.</p>
                </label>

                <input class="form-control" type="file" id="formFile" accept=".csv"
                    onchange="ArquivoSelecionado(event)">
            </div>
            <!-- DOCUMENTACAO ALGORITMO -->
            <section class="intro mt-5">
                <h2 class="mt-4">üìú Apresenta√ß√£o</h2>
                <p>Este projeto foi desenvolvido a fim de realizar o Teste do processo seletivo para a Vaga de
                    Desenvolvedor Python Jr. do <strong>Hosp. Albert Einstein üè•</strong>.</p>
                <p>A princ√≠pio eu comecei a fazer projetos separados e no meio do caminho decidi que seria mais
                    vantajoso incluir todas as funcionalidades em um mesmo projeto, podendo demonstrar mais as minhas
                    capacidades gerais.</p>
                <p>Este script √© um exemplo simples de an√°lise e manipula√ß√£o de um arquivo CSV com algumas informa√ß√µes
                    de vendas de produtos.</p>

                <h2 class="mt-4">üìå Princ√≠pios b√°sicos</h2>
                <ul>
                    <li>Calcular e exibir o faturamento total por produto e total de unidades vendidas.</li>
                    <li>Encontrar e exibir o produto com maior faturamento e o produto com menor faturamento.</li>
                </ul>

                <h2 class="mt-4">üõ†Ô∏è Tecnologias utilizadas</h2>
                <ul>
                    <li><strong>pandas</strong>: Para manipula√ß√£o de dados do arquivo CSV.</li>
                    <li><strong>pathlib</strong>: Para verifica√ß√£o do caminho do arquivo "Vendas.csv".</li>
                    <li><strong>flask</strong>: Para convers√£o e retorno do JSON.</li>
                    <li><strong>Python</strong>: 3.13.2</li>
                    <li><strong>Bootstrap</strong>: 5.3</li>
                    <li><strong>JavaScript</strong></li>
                    <li><strong>CSS</strong></li>
                </ul>

                <h2 class="mt-4">üîÑ Funcionamento</h2>
                <h3>üìÇ Verifica√ß√£o do arquivo</h3>
                <p>O script recebe o caminho do arquivo <strong>Vendas.csv</strong> que ser√° salvo pelo endpoint
                    <code>/csv</code> da API Flask.
                </p>

                <h3>üîç Verifica√ß√£o das colunas</h3>
                <p>O script verifica se as colunas necess√°rias (<code>produto</code>, <code>quantidade</code>,
                    <code>preco_unitario</code>) est√£o presentes no arquivo. Se alguma dessas colunas estiver ausente, o
                    programa √© encerrado com uma mensagem de erro.
                </p>

                <h2 class="mt-4">üìù Estrutura do script</h2>
                <ol>
                    <li><strong>Fun√ß√£o <code>_analisar(caminho_arquivo)</code></strong>
                        <ul>
                            <li>√â a fun√ß√£o principal do script.</li>
                            <li>Verifica se todas as colunas necess√°rias est√£o presentes.</li>
                            <li>L√™ o arquivo utilizando o delimitador <code>;</code>.</li>
                            <li>Calcula o faturamento total de cada produto (<code>quantidade * preco_unitario</code>).
                            </li>
                            <li>Agrupa os dados por produto, somando as quantidades vendidas e o faturamento total.</li>
                            <li>Chama a fun√ß√£o <code>_retorna_json()</code> para retornar os resultados.</li>
                        </ul>
                    </li>
                    <li><strong>Fun√ß√£o <code>_verifica_colunas(caminho_arquivo, colunas_utilizadas)</code></strong>
                        <ul>
                            <li>Confirma se todas as colunas necess√°rias est√£o presentes no arquivo CSV.</li>
                            <li>Caso alguma coluna esteja ausente, o script √© encerrado com uma mensagem de erro.</li>
                        </ul>
                    </li>
                    <li><strong>Fun√ß√£o <code>_retorna_json(tabela_agrupada)</code></strong>
                        <ul>
                            <li>Retorna um JSON com os resultados.</li>
                            <li>Chama <code>_menor_maior_faturamento()</code> para obter os produtos com menor e maior
                                faturamento.</li>
                            <li>Formata os valores monet√°rios para o formato <code>R$XX,XX</code>.</li>
                            <li>Exibe a tabela de vendas com a quantidade total vendida e faturamento total por produto.
                            </li>
                            <li>Exibe tamb√©m os produtos com menor e maior faturamento.</li>
                        </ul>
                    </li>
                    <li><strong>Fun√ß√£o <code>_menor_maior_faturamento(tabela_agrupada)</code></strong>
                        <ul>
                            <li>Recebe um DataFrame com os dados agrupados por produto.</li>
                            <li>Encontra o produto com menor faturamento e o produto com maior faturamento.</li>
                            <li>Retorna um novo DataFrame contendo os nomes desses produtos e seus valores formatados
                                como <code>R$</code>.</li>
                        </ul>
                    </li>
                </ol>

                <h2 class="mt-4">üéØ Conclus√£o</h2>
                <p>Com este projeto, pude demonstrar algumas habilidades no uso de tecnologias como:</p>
                <ul>
                    <li>HTML5</li>
                    <li>CSS</li>
                    <li>JavaScript</li>
                    <li>Bootstrap</li>
                    <li>Python</li>
                    <li>Flask</li>
                    <li>PathLib</li>
                    <li>Pandas</li>
                </ul>
                <p>Tamb√©m pude demonstrar meus conhecimentos em organiza√ß√£o de c√≥digo, l√≥gica de programa√ß√£o,
                    documenta√ß√£o, entre outras habilidades.</p>
            </section>
            <!-- END DOCUMENTACAO ALGORITMO -->
        </section>
        <!-- END ALGORITMO CSV -->

        <!-- API -->
        <section class="tab-pane fade show" id="api" role="tabpanel" aria-labelledby="api-tab" tabindex="2">
            <h1>Web Frameworks API com Flask</h1>
            <section>
                <h2>üéØ Apresenta√ß√£o</h2>
                <p>Esta API foi desenvolvida utilizando o framework <strong>Flask</strong> para Python. Ela foi criada
                    com o prop√≥sito de fornecer funcionalidades simples para demonstra√ß√£o. A API oferece tr√™s endpoints
                    principais:</p>
                <ul>
                    <li><strong>Home:</strong> A p√°gina inicial (P√°gina atual) da API.</li>
                    <li><strong>Sauda√ß√£o:</strong> Retorna uma sauda√ß√£o personalizada.</li>
                    <li><strong>Soma:</strong> Realiza a soma de dois n√∫meros fornecidos via JSON.</li>
                </ul>
                <p>Al√©m dos endpoints de uso interno, h√° tamb√©m o endpoint de <strong>An√°lise de CSV</strong>.</p>
            </section>
            <p>Voce pode testar os end points com o postman atraves do
                <a href="http://127.0.0.1:5000/download-json" download="APIFlask.postman_collection.json">Arquivo
                    JSON</a>
            </p>

            <h1>M√©todo GET</h1>
            <h2>(/saudacao?nome={SeuNome} )</h2>
            <br>
            <form action="http://127.0.0.1:5000/saudacao" method="GET">
                <fieldset>
                    <legend>Insira seu nome</label>
                        <input type="text" id="nome" name="nome">
                        <button id="saudacao" type="submit" class="btn btn-success">Enviar</button>
                </fieldset>
            </form>
            <br>
            <br>
            <h1>M√©todo POST</h1>
            <h2>(/soma)</h2>
            <br>
            <form id="formpost" action="http://127.0.0.1:5000/soma" method="POST">
                <fieldset>
                    <legend>Primeiro n√∫mero</legend>
                    <input type="text" id="operando1" name="operando1">
                </fieldset>
                <fieldset>
                    <legend>Segundo n√∫mero</legend>
                    <input type="text" id="operando2" name="operando2">
                </fieldset>
                <button id="saudacao" type="submit" class="btn btn-success">Enviar</button>
            </form>

            <!-- DOCUMENTA√á√ÉO API -->
            <section class="" id="documentacaoapi" role="tabpanel" aria-labelledby="documentacaoapi-tab" tabindex="2">
                <section class="mt-5">
                    <h2>üöÄ Endpoints</h2>

                    <section class="api-endpoint">
                        <h2>1. End Point: Home</h2>
                        <p><strong>URL:</strong> <code>/</code></p>
                        <p><strong>M√©todo:</strong> GET</p>
                        <p><strong>Descri√ß√£o:</strong> Retorna a p√°gina inicial.</p>
                    </section>

                    <section class="api-endpoint">
                        <h2>2. End Point: Sauda√ß√£o</h2>
                        <p><strong>URL:</strong> <code>/saudacao?nome={nome}</code></p>
                        <p><strong>M√©todo:</strong> GET</p>
                        <p><strong>Descri√ß√£o:</strong> Retorna uma sauda√ß√£o personalizada com o nome enviado como
                            par√¢metro na
                            query string.</p>
                        <pre><code>Exemplo de chamada: http://localhost:5000/saudacao?nome=Andrezinho</code></pre>
                        <p><strong>Resposta:</strong> "Ol√°, {nome} seja muito bem-vindo(a) a minha API Flask"</p>
                    </section>

                    <section class="api-endpoint">
                        <h2>3. End Point: Soma</h2>
                        <p><strong>URL:</strong> <code>/soma</code></p>
                        <p><strong>M√©todo:</strong> POST</p>
                        <p><strong>Descri√ß√£o:</strong> Recebe um objeto JSON no corpo da requisi√ß√£o e retorna a soma dos
                            dois
                            n√∫meros fornecidos.</p>
                        <pre>
                        <code>Exemplo de JSON enviado:</code>
                        {
                            "operando1": 10,
                            "operando2": 5
                        }
                    </pre>
                        <p><strong>Resposta:</strong> "A soma de {operando1} + {operando2} √© {soma}"</p>
                    </section>

                    <section>
                        <h2>üõ†Ô∏è Tecnologias Utilizadas</h2>
                        <div class="tech-list">
                            <div class="tech-item">HTML 5 üñ•Ô∏è</div>
                            <div class="tech-item">CSS üé®</div>
                            <div class="tech-item">JavaScript ‚ö°</div>
                            <div class="tech-item">Bootstrap üßë‚Äçüíª</div>
                            <div class="tech-item">Python üêç</div>
                            <div class="tech-item">Flask üî•</div>
                            <div class="tech-item">PathLib üìÅ</div>
                            <div class="tech-item">Pandas üìä</div>
                        </div>
                    </section>

                    <section>
                        <h2>üìú Conclus√£o</h2>
                        <p>Com este projeto pude demonstrar algumas habilidades de uso de diversas tecnologias como
                            HTML5, CSS, JavaScript, Bootstrap, Python, Flask, PathLib e Pandas.
                        <p>
                            Al√©m disso, foi uma
                            √≥tima oportunidade para mostrar meus conhecimentos em <strong>organiza√ß√£o de
                                c√≥digo</strong>, <strong>l√≥gica de programa√ß√£o</strong>, <strong>documenta√ß√£o</strong>,
                            entre outros.</p>
                        </p>
                    </section>
                </section>
                <!-- END DOCUMENTA√á√ÉO API -->
                <!--END DOCUMENTA√á√ÉO API -->
            </section>
            <!-- END API -->
    </div>

    <footer>
        <p>Andre Carciano!!! - 2025 - API com Flask</p>
    </footer>
</body>
<script src="../static/js/script.js"></script>

</html>